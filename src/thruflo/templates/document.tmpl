<%inherit file="context.tmpl"/>

<%def name="manage()">
  <div id="zoom-bar">
    zoom
  </div>
  <div id="inspector">
    <div class="tabs">
      <ul>
        <li>
          <a href="#tabs-document">
            Document</a>
        </li>
        <li>
          <a href="#tabs-sections">
            Sections</a>
        </li>    
        <li>
          <a href="#tabs-units">
            Units</a>
        </li>
      </ul>
      <div id="tabs-document">
        <ul>
          % for item in handler.section_types:
            <li id="${item}" class="section-type ui-draggable">
              <a href="#${item}" title="${item.replace('_', ' ').title()}">
                ${item.replace('_', ' ').title()}</a>
            </li>
          % endfor
        </ul>
      </div>
      <div id="tabs-sections">
        <div class="hidden">
          % for item in handler.section_type_mapping:
            <%
              section_type = item.keys()[0]
              content_types = item.values()[0]
            %>
            <div class="${section_type}">
              <h3 id="${section_type.replace('_', '-')}">
                <a href="#${section_type}">
                  ${section_type.replace('_', ' ').title()}</a>
              </h3>
              <div>
                % for content_type in content_types:
                  <h4>
                    ${content_type.replace('_', ' ').title()}
                  </h4>
                  <ul>
                    <%
                      items = getattr(handler, content_type)
                    %>
                    % for item in items:
                      <li id="${item.id}" class="ui-draggable">
                        <a href="/${content_type}/${item.slug}" title="${item.display_name}">
                          ${item.display_name}</a>
                      </li>
                    % endfor
                  </ul>
                % endfor
              </div>
            </div>
          % endfor
        </div>
        <div class="accordion">
        </div>
      </div>
      <div id="tabs-units">
        
      </div>
    </div>
  </div>
  <div id="sections-container" class="ui-droppable">
    parts
  </div>
</%def>